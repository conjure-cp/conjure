language ESSENCE' 1.0

given i: int(0..10)
given p_PermutationAsFunction_PermutationFunction_Function1D: matrix indexed by [int(1..4)] of int(1..4)
find j: int(0..10)
branching on [j]
such that
    j =
    [i, catchUndef(p_PermutationAsFunction_PermutationFunction_Function1D[i], 0); int(1..2)]
        [toInt(or([q2 = i | q2 : int(1..4)])) + 1]

