language Essence 1.3

find var1: bool
find var2:
        set (minSize image(function(true --> 2, true --> 5, true --> 3), true > false)) of
            (matrix indexed by [int(0, 0..2)] of bool, bool, tuple (bool))
such that
    image((function() : `function function bool --> int --> int`),
          function(!var1 --> toInt(var1), var1 -> var1 --> 1 / 1))
    **
    |function(function(var1 --> 0) --> (var1, var1, 4, var1),
              function(var1 --> 5, var1 --> 2, var1 --> 4) --> (var1, var1, 2, var1),
              function(var1 --> 5) --> (var1, var1, 3, var1),
              function(var1 --> 0, var1 --> 0, var1 --> 4, var1 --> 1) --> (var1, var1, 1, var1),
              function(var1 --> 3, var1 --> 0, var1 --> 4, var1 --> 2) --> (var1, var1, 1, var1))|
    <=
    image(function(1 --> 3, 0 --> 4, 3 --> 3, 5 --> 4) intersect function(2 --> 4, 3 --> 4, 0 --> 2, 0 --> 0),
          2 ** 0 ** (-2))
    %
    image(function(var1 --> 2, var1 --> 5, var1 --> 0) intersect
          function(var1 --> 2, var1 --> 1, var1 --> 3, var1 --> 3, var1 --> 2),
          var1),
    var1,
    var1,
    var1,
    var1,
    inverse(function((mset() : `mset of relation of (matrix indexed by [int] of int * (bool, bool, bool, int) * bool *
                                                     matrix indexed by [int] of bool)`)
                         --> [{(4, 3, var1), (3, 1, var1)}, {(1, 2, var1)}, {(3, 3, var1), (0, 1, var1)}; int(3..5)],
                     mset(relation(([3, 2, 2, 1; int(8, 2, 10, 1)], (var1, var1, var1, 3), var1,
                                    [var1, var1, var1, var1; int(2..5)])),
                          (relation() : `relation of (matrix indexed by [int] of int * (bool, bool, bool, int) * bool *
                                                      matrix indexed by [int] of bool)`),
                          relation(([0; int(0)], (var1, var1, var1, 4), 0 >= 0, [var1; int(0)])))
                         --> ([] : `matrix indexed by [int] of set of (int, int, bool)`),
                     (mset() : `mset of relation of (matrix indexed by [int] of int * (bool, bool, bool, int) * bool *
                                                     matrix indexed by [int] of bool)`)
                         --> [{(2, 5, var1)}, {(0, 3, var1)}, {(5, 1, var1), (4, 5, var1), (1, 1, var1)},
                              {(1, 5, var1)};
                                  int(5, 0, 4, 1)],
                     mset(relation(([4, 5; int(5, 3)], (var1, var1, var1, 1), var1, [var1; int(2)])),
                          relation((([] : `matrix indexed by [int] of int`), (var1, var1, var1, 4), var1,
                                    [var1, var1; int(4..5)]),
                                   ([1, 3, 2, 3; int(11, 9, 6, 1)], (var1, var1, var1, 3), var1,
                                    ([] : `matrix indexed by [int] of bool`)),
                                   ([5; int(0)], (var1, var1, var1, 5), var1, ([] : `matrix indexed by [int] of bool`)),
                                   ([2, 5, 2, 2, 4; int(5, 14, 1..2, 6)], (var1, var1, var1, 4), var1, [var1; int(2)])))
                         --> [{(0, 4, var1), (5, 1, false), (1, 5, var1)}, {(1, 4, var1)}, {(2, 5, var1), (5, 2, var1)},
                              ({} : `set of (int, int, bool)`);
                                  int(7..10)]),
            function(([] : `matrix indexed by [int] of set of (int, int, bool)`)
                         --> mset(relation((([] : `matrix indexed by [int] of int`), (var1, var1, var1, 5), var1,
                                            [var1; int(2)]),
                                           ([1, 3, 1, 2, 3; int(15, 12, 10..11, 8)], (var1, var1, var1, 3), var1,
                                            ([] : `matrix indexed by [int] of bool`)),
                                           (([] : `matrix indexed by [int] of int`), (var1, var1, var1, 5), 5 < 2,
                                            [var1, var1, var1, var1, var1; int(13, 12, 1, 5, 10)]),
                                           ([1, 3, 4, 1; int(0, 1, 6, 8)], (var1, var1, true, 1), !var1,
                                            [var1; int(1)]))),
                     ([] : `matrix indexed by [int] of set of (int, int, bool)`)
                         --> (mset() : `mset of relation of (matrix indexed by [int] of int * (bool, bool, bool, int) *
                                                             bool * matrix indexed by [int] of bool)`)))
