language Essence 1.3

find var1: set (minSize 0, maxSize 4) of set (minSize 3) of bool
find var2: partition (regular) from relation (size 1) of (bool * bool * bool)
such that
    ((relation((true, false, true, false)), mset(true, false, false), (partition() : `partition from int`)) !=
     (relation((false, false, true, false)), mset(true), partition({5, 2, 1, 2})))
    !=
    (([true, false; int(5, 4)] <lex [true, false, false, true; int(2..5)]) <
     (({} : `set of bool`) subsetEq ({} : `set of bool`))),
    allDiff([function(partition({false, true, true, true, false}, {false, true}, {false}, {false, false, false, false})
                          --> relation((true, false, true), (false, true, false), (false, true, true))),
             function(partition({true, true}, {true}) --> relation((true, false, true), (true, false, false)),
                      partition({false, false, true, true, false}, {false, false, false}, {true, true, true, false},
                                {true}, {true, false, true})
                          --> relation((true, false, false), (true, true, false), (true, true, true),
                                       (true, true, false))),
             function(partition({false, true})
                          --> relation((true, false, true), (false, false, false), (false, false, false)),
                      partition({true, false}, {false, true, false}, {true, true}, {true, true})
                          --> relation((false, false, false), (false, true, false), (false, true, false),
                                       (true, false, false)),
                      (partition() : `partition from bool`) --> relation((false, false, false)),
                      partition({false, false}, {false, true, false}, {true, true, false})
                          --> relation((true, true, true), (false, false, false), (false, true, false),
                                       (true, false, false))),
             function(partition({true}, {true}, {true}, {false, true, true})
                          --> relation((true, true, true), (false, false, false), (true, false, false)),
                      partition({false, false, false, false}, {false, false, true}, {true, false}, {true, true, false},
                                {false, true})
                          --> relation((true, true, false), (true, true, true), (true, true, true)));
                 int(4..7)]),
    true,
    [[true, true; int(0..1)], [true, true, true; int(1..2, 8)], [true; int(1)]; int(2, 4..5)]
        [freq(mset(false), false <= true)]
    <lex [l_1 | l_1 : bool, l_2 : bool, l_2],
    together({{(partition() : `partition from bool`),
               partition({false, true}, {true, false, false, false}, {true, true, true}, {false}),
               partition({false, true, false})},
              {(partition() : `partition from bool`), (partition() : `partition from bool`)}},
             (partition() : `partition from set of partition from bool`)),
    relation((tuple (partition({5})),
              relation(({true, false, true}, [true, true, false, true; int(8..11)], mset(false, false)))))
    subset
    relation((tuple (partition({3}, {3, 4, 1, 0, 0}, {4, 0}, {4, 2, 0}, {5, 2})),
              relation(({true, false, true}, [false, true; int(4..5)], mset(true, true))))),
    ![l_3 | l_3 : bool, l_4 : bool][min({5})],
    together({relation(({false, false, false}, (relation() : `relation of (bool * bool * bool)`), {false, true}),
                       (({} : `set of bool`), (relation() : `relation of (bool * bool * bool)`), {true}),
                       ({false, true, true},
                        relation((false, false, true), (true, false, true), (false, true, true), (true, false, false),
                                 (false, true, false)),
                        {true, false, true}),
                       ({true, true, true}, (relation() : `relation of (bool * bool * bool)`), {false}),
                       (({} : `set of bool`), relation((true, true, false), (true, true, false)),
                        {false, true, false}))},
             partition({relation(({false, true, true}, (relation() : `relation of (bool * bool * bool)`),
                                  {false, true}),
                                 (({} : `set of bool`), relation((true, false, false), (false, false, false)),
                                  ({} : `set of bool`)),
                                 ({true}, relation((false, true, false)), {true, true}),
                                 ({true, false}, (relation() : `relation of (bool * bool * bool)`), {false, false})),
                        relation(({true, true},
                                  relation((false, true, true), (true, false, false), (true, false, false),
                                           (true, false, false)),
                                  {false, true, true}),
                                 ({true, true},
                                  relation((true, false, true), (false, false, true), (false, true, false),
                                           (false, true, false), (false, true, false)),
                                  {true, false}),
                                 ({true, false, false}, relation((false, false, true), (true, true, true)),
                                  {true, true}),
                                 (({} : `set of bool`), relation((false, true, true), (true, true, true)), {true}),
                                 ({false, false, false}, (relation() : `relation of (bool * bool * bool)`),
                                  {false, true})),
                        relation((({} : `set of bool`),
                                  relation((false, false, false), (false, true, false), (true, true, false)),
                                  {false, false, true}))},
                       {relation(({true, false},
                                  relation((true, false, true), (false, false, false), (true, false, false)), {false}),
                                 ({true, false, true},
                                  relation((true, false, false), (true, true, false), (false, true, true),
                                           (false, true, true), (true, false, true)),
                                  {true, true, false}),
                                 ({false}, relation((true, true, false), (true, true, false)), ({} : `set of bool`))),
                        relation(({false}, relation((false, false, false), (true, false, true)), {true}),
                                 ({false}, relation((true, true, false)), {true}),
                                 (({} : `set of bool`),
                                  relation((true, true, false), (true, false, true), (false, false, false),
                                           (true, true, false)),
                                  {false}),
                                 (({} : `set of bool`), relation((true, false, false)), ({} : `set of bool`)),
                                 ({true, false, false},
                                  relation((false, true, false), (false, true, false), (false, false, false)),
                                  {false, true, true})),
                        relation(({false},
                                  relation((true, true, true), (false, true, true), (true, true, false),
                                           (true, false, true), (false, true, true)),
                                  {true, false})),
                        relation(({false}, relation((true, false, true), (false, true, true)), {false, true}),
                                 ({true, false, true}, (relation() : `relation of (bool * bool * bool)`),
                                  {false, false}),
                                 ({true, false}, relation((true, true, false), (true, true, true)), {true, false}),
                                 ({true, true, false}, (relation() : `relation of (bool * bool * bool)`),
                                  ({} : `set of bool`))),
                        relation(({false}, relation((true, false, false), (false, false, false), (false, false, false)),
                                  {false, false}),
                                 ({false, true},
                                  relation((true, false, false), (true, false, true), (false, true, false),
                                           (false, false, false)),
                                  {true, false}),
                                 ({true, false},
                                  relation((true, true, true), (true, false, false), (false, true, true),
                                           (true, true, false)),
                                  {false, false}))}))
