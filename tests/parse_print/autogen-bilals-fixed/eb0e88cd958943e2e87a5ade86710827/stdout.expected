language Essence 1.3

find var1:
        relation (minSize 5 ** 5) of
            (bool * partition (minNumParts 2, maxNumParts 4, partSize 5) from int(3, 2) *
             function (total) bool --> bool * matrix indexed by [int(3, 0)] of bool)
such that
    toInt(2 != 5 -> true) ** factorial(1) < sum([l_1 | l_1 : int(2, 3), false, (l_1, l_1) = (l_1, l_1)]),
    function([l_2 | l_2 : mset (maxSize 0 / 5, minOccur 3, maxOccur 5) of bool]
                 --> relation((1 = 0 - 0,
                               partition({relation(tuple (false), tuple (false), tuple (false), tuple (false),
                                                   tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (true), tuple (false),
                                                   tuple (false))}),
                               (partition() : `partition from mset of bool`)),
                              (5 ** 3 < -2, (partition() : `partition from relation of (bool)`),
                               partition({mset(true), mset(true, false, true)}, {mset(false, true, true)},
                                         {mset(false, false, false)},
                                         {mset(true, false, false), mset(false, false), mset(false),
                                          (mset() : `mset of bool`)},
                                         {mset(true)})),
                              (relation((false, 1, false), (false, 4, false)) supsetEq
                               relation((false, 2, false), (true, 3, true), (true, 0, true)),
                               partition({(relation() : `relation of (bool)`),
                                          relation(tuple (false), tuple (true), tuple (true), tuple (false),
                                                   tuple (true)),
                                          relation(tuple (false), tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (false))},
                                         {relation(tuple (true), tuple (false), tuple (false), tuple (false)),
                                          relation(tuple (false), tuple (true), tuple (true), tuple (false)),
                                          relation(tuple (true), tuple (false), tuple (true), tuple (false)),
                                          relation(tuple (true), tuple (false)), (relation() : `relation of (bool)`)},
                                         {relation(tuple (true), tuple (true))}),
                               partition({mset(true, false, true), mset(false)}, {mset(false, true, true)},
                                         {mset(true, false), mset(false, false), mset(false), mset(true, true, true),
                                          mset(false)},
                                         {mset(false, true, false), (mset() : `mset of bool`), mset(true)},
                                         {mset(true)})),
                              ({false, true} subsetEq {false},
                               partition({relation(tuple (true), tuple (false), tuple (false))},
                                         {relation(tuple (false), tuple (true), tuple (true), tuple (true),
                                                   tuple (false)),
                                          (relation() : `relation of (bool)`),
                                          relation(tuple (true), tuple (false), tuple (false), tuple (false))},
                                         {(relation() : `relation of (bool)`),
                                          relation(tuple (false), tuple (false), tuple (false), tuple (false))},
                                         {relation(tuple (false), tuple (true), tuple (false), tuple (false)),
                                          (relation() : `relation of (bool)`),
                                          relation(tuple (true), tuple (true), tuple (true), tuple (true),
                                                   tuple (false))}),
                               partition({mset(false, true, false), mset(false, false)})),
                              (relation(tuple (2)) supset relation(tuple (0), tuple (2)),
                               partition({relation(tuple (true)), relation(tuple (false), tuple (false))},
                                         {relation(tuple (false)), relation(tuple (true))},
                                         {relation(tuple (false), tuple (false), tuple (true), tuple (true)),
                                          relation(tuple (true), tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (false), tuple (false),
                                                   tuple (true)),
                                          relation(tuple (true), tuple (false), tuple (true))},
                                         {relation(tuple (false)), relation(tuple (true), tuple (false)),
                                          relation(tuple (true), tuple (true), tuple (false)),
                                          relation(tuple (true), tuple (false), tuple (false), tuple (false),
                                                   tuple (false))}),
                               partition({mset(false, true), mset(false), (mset() : `mset of bool`)},
                                         {mset(false, false, false), mset(true, true, true), mset(false, false, false),
                                          mset(true)},
                                         {(mset() : `mset of bool`), mset(true, false), mset(false)}))),
             flatten([mset(true), mset(true), mset(false); int(2..3, 6)])
                 --> relation(([false, true, false, false, true; int(3, 7..10)] <=lex [false; int(2)],
                               partition({relation(tuple (false), tuple (false), tuple (true)),
                                          relation(tuple (true), tuple (false), tuple (false)),
                                          relation(tuple (false))},
                                         {relation(tuple (true)), (relation() : `relation of (bool)`)},
                                         {relation(tuple (false)),
                                          relation(tuple (true), tuple (false), tuple (false), tuple (true),
                                                   tuple (true)),
                                          (relation() : `relation of (bool)`), relation(tuple (false), tuple (false)),
                                          relation(tuple (false), tuple (true), tuple (false), tuple (true))}),
                               partition({mset(true, false), mset(true), mset(true, false)}, {mset(false, true, false)},
                                         {mset(true, true)},
                                         {mset(true, false), (mset() : `mset of bool`), mset(false, true, false),
                                          mset(false, true, false)})),
                              (toInt(false) > 4 - 5,
                               partition({relation(tuple (true), tuple (false), tuple (false), tuple (true),
                                                   tuple (false))},
                                         {relation(tuple (false), tuple (false), tuple (true), tuple (true),
                                                   tuple (true)),
                                          relation(tuple (false), tuple (false))},
                                         {relation(tuple (false), tuple (true), tuple (true)), relation(tuple (false)),
                                          relation(tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (true), tuple (true)),
                                          relation(tuple (true), tuple (true))}),
                               partition({mset(false), mset(false, true, true)},
                                         {mset(false), mset(true, false), mset(true), mset(false, false, false),
                                          mset(false, true)},
                                         {mset(true, true), mset(true, true)}, {mset(false, false)})),
                              (({} : `set of int`) = {0, 2, 4},
                               partition({relation(tuple (true), tuple (true), tuple (true), tuple (true),
                                                   tuple (false)),
                                          relation(tuple (false), tuple (false), tuple (false), tuple (true),
                                                   tuple (false)),
                                          relation(tuple (true), tuple (true), tuple (false), tuple (false),
                                                   tuple (false)),
                                          (relation() : `relation of (bool)`),
                                          relation(tuple (false), tuple (true), tuple (true), tuple (true),
                                                   tuple (true))},
                                         {relation(tuple (false)), (relation() : `relation of (bool)`),
                                          relation(tuple (true))},
                                         {relation(tuple (false), tuple (true), tuple (true), tuple (false)),
                                          relation(tuple (false), tuple (false), tuple (false), tuple (false)),
                                          relation(tuple (false), tuple (true), tuple (true)),
                                          relation(tuple (false), tuple (true), tuple (false), tuple (true),
                                                   tuple (false)),
                                          (relation() : `relation of (bool)`)},
                                         {relation(tuple (false), tuple (true), tuple (false), tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (true))}),
                               (partition() : `partition from mset of bool`)),
                              (0 / 5 < 1 % 5, (partition() : `partition from relation of (bool)`),
                               partition({mset(true), (mset() : `mset of bool`), mset(true, false)},
                                         {mset(false, true), mset(false, true), (mset() : `mset of bool`)},
                                         {mset(false, true, true), mset(false), mset(false), mset(false, false)}))),
             flatten([mset(false), mset(false, true), (mset() : `mset of bool`), (mset() : `mset of bool`);
                          int(9..11, 7)])
                 --> relation((2 ** 5 < factorial(3),
                               partition({relation(tuple (false), tuple (false), tuple (false)),
                                          relation(tuple (true), tuple (false), tuple (true), tuple (true)),
                                          relation(tuple (true), tuple (false))}),
                               partition({mset(false, false), (mset() : `mset of bool`), mset(true, true),
                                          mset(true, false), mset(false)},
                                         {mset(false)},
                                         {mset(true, true, false), mset(false, true), mset(false, false, true)},
                                         {mset(false), mset(false, false, false), mset(true, false)}))),
             [(mset() : `mset of bool`)
                  | l_3 : mset (minSize 3, maxSize 5, minOccur 3, maxOccur 3) of bool,
                    l_4 : mset (minSize 2, maxSize 2, minOccur 1, maxOccur 1) of bool]
                 --> relation((allDiff([0, 2, 5, 5, 5; int(0..1, 14, 7, 9)]),
                               partition({(relation() : `relation of (bool)`),
                                          relation(tuple (false), tuple (false), tuple (true), tuple (false),
                                                   tuple (false)),
                                          relation(tuple (true), tuple (false), tuple (false)),
                                          relation(tuple (true), tuple (false))},
                                         {relation(tuple (true)), relation(tuple (true), tuple (true)),
                                          relation(tuple (false), tuple (true), tuple (true)),
                                          (relation() : `relation of (bool)`),
                                          relation(tuple (false), tuple (false), tuple (false))},
                                         {relation(tuple (true), tuple (true), tuple (false)), relation(tuple (true)),
                                          relation(tuple (false), tuple (false), tuple (true)),
                                          (relation() : `relation of (bool)`),
                                          relation(tuple (false), tuple (true), tuple (false), tuple (false),
                                                   tuple (false))},
                                         {relation(tuple (false), tuple (false), tuple (false), tuple (true),
                                                   tuple (true)),
                                          relation(tuple (false)),
                                          relation(tuple (false), tuple (false), tuple (false), tuple (false),
                                                   tuple (true))},
                                         {relation(tuple (true), tuple (false)), (relation() : `relation of (bool)`),
                                          (relation() : `relation of (bool)`),
                                          relation(tuple (false), tuple (true), tuple (true), tuple (true)),
                                          relation(tuple (false), tuple (true))}),
                               partition({(mset() : `mset of bool`), mset(true, true), mset(false)},
                                         {mset(true), mset(false, true), mset(true), mset(false, true)},
                                         {mset(false, true), mset(true, false), mset(true, false),
                                          mset(false, false, false)})),
                              (partition({true, true}, {false, false, true}, {true, false, true},
                                         {false, true, false, true, true}, {false, false, false, false, true})
                               =
                               partition({false, true, false, false, true}, {true}, {true, false, true},
                                         {true, false, true, true}, {false}),
                               (partition() : `partition from relation of (bool)`),
                               partition({mset(true, false, false), mset(true, false), mset(true), mset(false),
                                          (mset() : `mset of bool`)},
                                         {mset(true)}, {mset(true)}, {mset(true), (mset() : `mset of bool`)})),
                              (mset(2, 2) subsetEq mset(4),
                               partition({relation(tuple (true), tuple (false), tuple (true)), relation(tuple (false)),
                                          relation(tuple (true), tuple (false), tuple (false), tuple (true),
                                                   tuple (true)),
                                          relation(tuple (false), tuple (true), tuple (false), tuple (true))}),
                               partition({(mset() : `mset of bool`), (mset() : `mset of bool`), mset(false)},
                                         {mset(false, false)}, {mset(true), mset(false, true, false)})),
                              (inverse(function(false --> false, false --> true),
                                       function(true --> true, false --> true)),
                               partition({relation(tuple (true), tuple (false), tuple (true)), relation(tuple (false))},
                                         {relation(tuple (true), tuple (true), tuple (true), tuple (true)),
                                          relation(tuple (false), tuple (false), tuple (true), tuple (false),
                                                   tuple (false))},
                                         {relation(tuple (false)),
                                          relation(tuple (true), tuple (false), tuple (true), tuple (true)),
                                          relation(tuple (false)), relation(tuple (false))}),
                               partition({mset(false, false)},
                                         {mset(true), mset(false, false, true), (mset() : `mset of bool`),
                                          (mset() : `mset of bool`)},
                                         {mset(false, true), (mset() : `mset of bool`), mset(false, true),
                                          mset(false, false, true), mset(true)},
                                         {mset(false), mset(true, true, true), mset(true, false)}))))
    supsetEq
    function(flatten([mset(false, true), mset(false, false, true), (mset() : `mset of bool`); int(5, 3..4)])
                 --> (relation() : `relation of (bool * partition from relation of (bool) *
                                                 partition from mset of bool)`),
             flatten([(mset() : `mset of bool`), (mset() : `mset of bool`), mset(true), mset(false, false, false);
                          int(1, 9, 2, 10)])
                 --> relation((false,
                               partition({relation(tuple (false), tuple (false)), relation(tuple (false), tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (true), tuple (true),
                                                   tuple (true))},
                                         {relation(tuple (false), tuple (false), tuple (false), tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (true)),
                                          relation(tuple (true), tuple (false), tuple (false), tuple (false)),
                                          relation(tuple (false), tuple (false), tuple (true), tuple (true)),
                                          relation(tuple (false), tuple (false), tuple (true), tuple (true),
                                                   tuple (false))},
                                         {relation(tuple (false), tuple (false)), relation(tuple (false)),
                                          relation(tuple (true), tuple (true)), relation(tuple (false), tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (true), tuple (true))},
                                         {relation(tuple (false), tuple (true), tuple (true), tuple (false))}),
                               partition({mset(false, true)}, {mset(true, false, true)},
                                         {mset(false, false), mset(true, false), mset(false, true, false)})),
                              (false,
                               partition({relation(tuple (false)), relation(tuple (true), tuple (true)),
                                          relation(tuple (true), tuple (false), tuple (false), tuple (true),
                                                   tuple (false)),
                                          relation(tuple (true), tuple (false)),
                                          relation(tuple (false), tuple (true), tuple (true), tuple (false))},
                                         {relation(tuple (true), tuple (true), tuple (false), tuple (true),
                                                   tuple (true)),
                                          relation(tuple (false), tuple (true)), relation(tuple (false), tuple (false)),
                                          relation(tuple (true), tuple (false), tuple (true)),
                                          relation(tuple (false), tuple (true))},
                                         {relation(tuple (false), tuple (true), tuple (true), tuple (true),
                                                   tuple (false))}),
                               partition({mset(false, false), mset(false, false, true), mset(false, false, false)})),
                              (true,
                               partition({relation(tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (true), tuple (false),
                                                   tuple (true)),
                                          relation(tuple (false), tuple (true), tuple (true), tuple (false),
                                                   tuple (true)),
                                          relation(tuple (false), tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (false))},
                                         {relation(tuple (true)), relation(tuple (false), tuple (false)),
                                          relation(tuple (true), tuple (true), tuple (true)),
                                          relation(tuple (true), tuple (false), tuple (false), tuple (true),
                                                   tuple (false))},
                                         {relation(tuple (false), tuple (true), tuple (false), tuple (false),
                                                   tuple (true))},
                                         {relation(tuple (false), tuple (false), tuple (false), tuple (false),
                                                   tuple (true)),
                                          relation(tuple (false), tuple (false), tuple (true))}),
                               partition({mset(false, false)}, {mset(false, true, true), mset(true)},
                                         {mset(true), mset(false, true), mset(false, true, true),
                                          mset(true, false, true)})),
                              (true,
                               partition({relation(tuple (true), tuple (true), tuple (false), tuple (false),
                                                   tuple (true)),
                                          relation(tuple (true), tuple (false))}),
                               partition({mset(false), mset(true, true, false), mset(true), mset(true, true),
                                          mset(false)},
                                         {mset(false, true, false)}, {mset(true)},
                                         {mset(false, true, false), mset(false, true, true), mset(true, true),
                                          mset(true, true, true), mset(true, true)}))),
             [l_5 | l_5 : mset (minSize 1, maxSize 1, maxOccur 4 % 3) of bool,
                    l_6 : mset (minSize 1, maxSize 2, minOccur 0, maxOccur 0) of bool, (true != true) > !false]
                 --> relation((true,
                               partition({relation(tuple (false), tuple (false), tuple (false), tuple (false)),
                                          relation(tuple (false), tuple (true), tuple (false), tuple (false),
                                                   tuple (true))},
                                         {relation(tuple (false), tuple (true), tuple (true), tuple (true)),
                                          relation(tuple (false), tuple (false), tuple (false), tuple (false)),
                                          relation(tuple (false)),
                                          relation(tuple (false), tuple (true), tuple (false))},
                                         {relation(tuple (true), tuple (true))},
                                         {relation(tuple (false), tuple (false), tuple (false), tuple (true))}),
                               partition({mset(false, false), mset(true, false, false), mset(false, true),
                                          mset(true, false, false)},
                                         {mset(false, false), mset(false), mset(true, true)},
                                         {mset(false), mset(false), mset(false, false, false), mset(false, false),
                                          mset(true, false, false)},
                                         {mset(true), mset(true), mset(false, true, true), mset(false)})),
                              (true,
                               partition({relation(tuple (true), tuple (true), tuple (true), tuple (true)),
                                          relation(tuple (true), tuple (true), tuple (true), tuple (false),
                                                   tuple (false)),
                                          relation(tuple (false))},
                                         {relation(tuple (false), tuple (false), tuple (false)),
                                          relation(tuple (true), tuple (false), tuple (true), tuple (false)),
                                          relation(tuple (false), tuple (true), tuple (true), tuple (false)),
                                          relation(tuple (true)), relation(tuple (false), tuple (true))},
                                         {relation(tuple (true), tuple (false), tuple (true), tuple (true),
                                                   tuple (false)),
                                          relation(tuple (false), tuple (false), tuple (true), tuple (true),
                                                   tuple (true)),
                                          relation(tuple (true))}),
                               partition({mset(true, true), mset(true, false), mset(false), mset(false, true)},
                                         {mset(false, true), mset(true, false), mset(true, false)},
                                         {mset(false, false, false), mset(false)})),
                              (false,
                               partition({relation(tuple (false), tuple (true), tuple (false), tuple (false),
                                                   tuple (false)),
                                          relation(tuple (false), tuple (false), tuple (true)), relation(tuple (false)),
                                          relation(tuple (true), tuple (false), tuple (true), tuple (true))}),
                               partition({mset(false, true), mset(true, true, true), mset(true, true),
                                          mset(true, true, false)},
                                         {mset(true, true), mset(true), mset(true, true, true), mset(true, false)},
                                         {mset(false, false), mset(true, false), mset(true, false, false)},
                                         {mset(false, true), mset(false), mset(false, false), mset(false)}))))
