language Essence 1.3

find var1: (bool, bool, bool)
find var2: tuple (int(5, 5))
such that
    or(([] : `matrix indexed by [int, int] of bool`)[freq((mset() : `mset of bool`), true <-> true) ** (-(5 % 0))]),
    [[l_1 <-> l_1 | l_1 : bool, l_1, 2 < 1]; int(2)]
        [max({4, 5}), sum(flatten([-0, 3 - 2, 0 - 2, factorial(0); int(10, 6, 9..10)]))],
    relation((false <
              (relation((true, false), (false, true), (true, true), (true, true)) subset
               relation((true, false), (false, true), (true, true), (false, false), (true, false))),
              [relation((([] : `matrix indexed by [int] of bool`), partition({true, true, false, false}, {true, false}),
                         mset(false, false))),
               relation(([false; int(2)],
                         partition({true, false, true, false, false}, {true, false, false}, {true, true, false}),
                         mset(true)));
                   int(3..4)]),
             (inverse(function(relation((false, false, true)) --> tuple (true),
                               relation((true, false, true), (false, false, false), (true, true, false),
                                        (false, false, true))
                                   --> tuple (true),
                               relation((true, false, true), (false, true, false), (true, false, true),
                                        (false, true, false), (false, true, false))
                                   --> tuple (true),
                               relation((true, false, false), (false, false, false), (true, true, true))
                                   --> tuple (true)),
                      function(tuple (false) --> relation((false, false, false)),
                               tuple (true)
                                   --> relation((false, true, true), (true, true, true), (true, true, true),
                                                (true, false, true)),
                               tuple (false) --> relation((true, true, false), (true, false, false)))),
              [relation((([] : `matrix indexed by [int] of bool`),
                         partition({false, false, false}, {false, true}, {true, true}), mset(false, false)),
                        (([] : `matrix indexed by [int] of bool`), partition({false, false}, {true}, {false}, {false}),
                         (mset() : `mset of bool`)),
                        ([false, true, true, false; int(8, 0..1, 9)],
                         partition({false, true, true, true}, {true, true}, {false}), mset(false, true)),
                        ([false; int(2)], (partition() : `partition from bool`), mset(true)),
                        ([true; int(2)], partition({true, false, true, true}), mset(false)));
                   int(0)]))
    subsetEq
    relation(([l_2 | l_2 : bool, l_3 : bool, l_3 <= false, l_2] <=lex [5 >= 0 | l_4 : bool, l_5 : bool],
              ([] : `matrix indexed by [int] of relation of (matrix indexed by [int] of bool * partition from bool *
                                                             mset of bool)`)),
             (inverse(function(relation(tuple (true)) --> (false, true, true, false),
                               relation(tuple (false)) --> (true, false, false, false),
                               relation(tuple (false), tuple (true), tuple (false), tuple (true), tuple (true))
                                   --> (true, false, true, true),
                               relation(tuple (true), tuple (false), tuple (false), tuple (false), tuple (false))
                                   --> (false, false, true, true)),
                      function((true, false, false, true) --> (relation() : `relation of (bool)`),
                               (false, false, true, true)
                                   --> relation(tuple (false), tuple (false), tuple (false), tuple (false),
                                                tuple (true)))),
              [relation(([false, true, false; int(9, 6, 3)], partition({false, true, false, true, true}),
                         mset(false, false)),
                        ([false, true, false, false; int(8..11)],
                         partition({true, true, false, false}, {true}, {false, false, false}, {true}, {true}),
                         mset(true, true)),
                        ([false; int(2)], (partition() : `partition from bool`), mset(false, true, false))),
               relation(([false; int(0)], partition({false, true, true, false}, {true, true}), mset(true)),
                        ([true, true; int(2..3)],
                         partition({true, false, false, true}, {true, true, true, true, true}, {false}), mset(false)),
                        (([] : `matrix indexed by [int] of bool`), partition({true, false, true, true, false}),
                         mset(false, false)),
                        ([false, false, false; int(6..7, 8)], partition({true, true}, {true}, {false}, {true}),
                         mset(true, false)),
                        ([false, true, false; int(8, 6, 0)], (partition() : `partition from bool`),
                         (mset() : `mset of bool`))),
               relation((([] : `matrix indexed by [int] of bool`), partition({false, false}), mset(false, true, false)),
                        ([false, false, false; int(9, 7, 5)], partition({false, true, true, false, true}),
                         mset(false, true)),
                        ([false; int(0)], partition({true, false, true, true}), mset(true, false, false)),
                        ([true, true, false, false; int(12, 4..5, 11)], partition({true, true}),
                         (mset() : `mset of bool`)),
                        (([] : `matrix indexed by [int] of bool`),
                         partition({false}, {false, true}, {false, true, true, false}), mset(false, false))),
               (relation() : `relation of (matrix indexed by [int] of bool * partition from bool * mset of bool)`),
               relation(([true, true; int(3, 2)], partition({true, true}), mset(true)));
                   int(8, 6, 7, 2, 1)]),
             (relation(((partition() : `partition from bool`), var1, {1, 3, 5},
                        function(true --> true, true --> true, true --> true, false --> true, true --> false)))
              =
              relation((partition({false, true, true, false}), (false, false, true), {5, 2, 4},
                        function(false --> false, false --> true, true --> true, false --> true, true --> false)),
                       (partition({false, true}), (false, true, false), {1, 2, 2},
                        function(false --> true, false --> true)),
                       (partition({false, true, true}), (false, false, false), {1, 3, 4},
                        function(true --> false, false --> false, false --> false, true --> false))),
              [relation(([true, true, true; int(2..4)],
                         partition({true}, {true, false, false, true, true}, {true, true, false, false, true}),
                         mset(false, false)),
                        ([true, false; int(1, 5)],
                         partition({true, true}, {true, true, true, true, false}, {false, false, true, false, true},
                                   {true, false, false, false}),
                         mset(true)),
                        ([false; int(2)], partition({false, false}, {true}, {true, false}, {false, true, false}),
                         mset(false, true)),
                        ([false, false, false, false, false; int(6..10)],
                         partition({true, false}, {false}, {false, true, false, true},
                                   {false, false, true, false, true}),
                         mset(false, false)));
                   int(2)]),
             (false,
              [relation(([false, false; int(2, 3)], partition({false, true, true, true, true}, {false}),
                         mset(false, true, false)),
                        ([true, true, false, true, false; int(8..9, 3, 2..3)],
                         partition({true, true, true}, {true, true, true, true}, {true, false}, {false, true, true},
                                   {false, true, false}),
                         mset(false, false))),
               relation((([] : `matrix indexed by [int] of bool`),
                         partition({false, false, false}, {false, false, false, false}), mset(true, false, false)),
                        ([true, false, true, true, false; int(8..9, 15, 13..14)],
                         partition({true, true, false, false}, {true, true, true, false}), mset(true, false)),
                        (([] : `matrix indexed by [int] of bool`),
                         partition({false, true}, {false}, {false, true, false, false}, {true, true},
                                   {true, false, true, false, true}),
                         mset(false, true)));
                   int(1..2)]))
